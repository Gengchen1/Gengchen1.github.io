### 4.3 地图服务

SLAM建图时，地图数据是保存在内存中的，这也意味着，一旦节点关闭，数据也会一并被释放，而更合理的实现应该是将构建的地图序列化到的磁盘以持久化存储，并且后期还要通过反序列化读取磁盘的地图数据以做其他操作。在Nav2中已经已经封装好了地图序列化和反序列化的相关功能包，该包是：`nav2_map_server`。

在`nav2_map_server`中，可以通过话题和服务接口与Nav2系统的其余部分进行交互。`nav2_map_server`包下有两个重要的节点，分别是`map_saver_cli`和`map_server`，通过`map_saver_cli`节点则可以保存地图，而`map_server`节点则可以在启动时显示地图。


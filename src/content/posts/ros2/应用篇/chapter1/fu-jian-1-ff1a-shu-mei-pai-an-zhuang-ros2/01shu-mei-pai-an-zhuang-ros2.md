### 01\_树莓派安装ROS2

#### 树莓派简介

##### 概念

Raspberry Pi\(中文名为“树莓派”,简写为RPi，\(或者RasPi / RPI\)是为学习计算机编程教育而设计\)，**只有信用卡大小的微型电脑，其系统基于Linux。**随着Windows 10 IoT的发布，我们也将可以用上运行Windows的树莓派。

##### 结构

它是一款**基于ARM 的微型电脑主板**，以SD/MicroSD卡为内存硬盘，卡片主板周围有1/2/4个USB接口和一个以太网接口（A型没有网口），可连接键盘、鼠标和网线，同时拥有视频模拟信号的电视输出接口和HDMI高清视频输出接口，以上部件全部整合在一张仅比信用卡稍大的主板上，**具备所有PC的基本功能**只需接通电视机和键盘，就能执行如电子表格、文字处理、玩游戏、播放高清视频等诸多功能，下图为树莓派4b。

![](/assets/附件00_树莓派4b.jpg)

##### 配件

单独一块树莓派主板是无法运行的，必须集成一些配件才能实现一定的功能，树莓派周边配件是比较丰富的，比如：USB电源、SD卡、读卡器、HDMI连接线、显示屏、键盘、鼠标、保护壳、风扇等等，除此之外还有各式各样的传感器:声音传感器、温度传感器、土壤湿度传感器....对于我们教程而言，所需的配件比较简单，硬件清单如下:

* 树莓派主板
* 电源线
* SD卡\(已安装 Ubuntu 以及 ROS2\)
* 显示屏或 HDMI采集卡以及配套的数据线
* 鼠标、键盘

##### 接线以及使用

树莓派在安装系统时，需要连接显示器或HDMI采集卡（二选一），接线方式如下：

1.树莓派连接显示屏；

![](/assets/附件00_接线01_显示器.jpg)

2.树莓派连接HDMI采集卡（可以通过windows相机查看运行结果）。

![](/assets/附件00_接线02_HDMI.jpg)

如果HDMI已经烧录Ubuntu系统，那么会正常启动系统（如下图所示）。

![](/assets/附件00_树莓派资料.PNG)

#### 树莓派安装ROS2流程

如果在树莓派上搭建ROS2环境需要两步实现：

1. 在树莓派上安装Ubuntu；
2. 基于Ubuntu安装ROS2。

版本选择:

* Ubuntu选用22.04；
* ROS2选用humble；
* 树莓派选用4b。

具体实现流程如下。

---

#### 树莓派安装Ubuntu

#### 1.Ubuntu安装 {#1ubuntu安装}

##### 1.1硬件准备 {#11硬件准备}

* 树莓派

* 读卡器

* TF卡\(建议16G以及以上\)

* 显示屏或 HDMI采集卡 以及配套的数据线

* 鼠标键盘

##### 1.2软件准备 {#12软件准备}

1.Ubuntu22.04下载并解压，下载地址：[https://cn.ubuntu.com/download/raspberry-pi](https://cn.ubuntu.com/download/raspberry-pi)

![](/assets/附件01_镜像下载.PNG)当前选择Ubuntu 桌面 22.04.1 LTS，点击“下载64位镜像”，下载完毕解压备用。

2.win32 Disk Imager烧录软件下载并安装，下载地址：[https://sourceforge.net/projects/win32diskimager/](https://sourceforge.net/projects/win32diskimager/)

根据提示下载并安装。

3.如果TF卡已有内容，在使用之前需要执行格式化，比如可以使用SD Card Formatter。

SD Card Formatter下载并安装，下载地址:[https://www.sdcard.org/downloads/formatter/](https://www.sdcard.org/downloads/formatter/)

##### 1.3系统烧录 {#13系统烧录}

1.将TF卡插入读卡器，读卡器插入计算机；

2.如果TF卡已有内容，请先启动SD Card Formatter进行格式化\(如无数据，此步骤略过\)；

![](/assets/附件04_SD卡格式化.PNG)

3.启动win32 Disk Imager，选择先行下载的Ubuntu镜像并写入TF卡；

![](/assets/附件05_镜像写入.PNG)

![](/assets/附件06_镜像成功.PNG)

##### 1.4系统安装 {#14系统安装}

首先将TF卡插入树莓派卡槽，连接电源，并连接显示器或HDMI采集卡，正常情况下，将进入Ubuntu系统的安装环节。具体流程如下：

1.选择语言环境；

![](/assets/附件07_系统安装01_语言选择.PNG)

2.选择是否连接网络；

![](/assets/附件07_系统安装02_连接网络.PNG)

3.设置时区；

![](/assets/附件07_系统安装03_设置时区.PNG)

4.设置账号密码；

![](/assets/附件07_系统安装04_账号密码.PNG)

5.开始安装；

![](/assets/附件07_系统安装05_开始安装.PNG)

安装完毕后，后自动重启进入Ubuntu操作系统。

---

#### 安装ROS2

可参考《ROS2理论与实践——核心篇》的第一章第二节ROS2安装部分内容。

